1. In  your server-side root-folder ```cd server``` create a dotenv file ```touch .env``` check the file is in the server folder root not the global root or the client-side root folders.

2. Get the URI - this is what you have saved from setting up the db in the cloud (mongoDb-cloud-setup.md) in the ```.env``` file add ```mongodb+srv://:@cluster0.xfd8y.mongodb.net/test`

WITHOUT THE PASSWORD AND USER NAME to the file and it is NOT a string eg: ```mongodb+srv://user-name:<auto-generated-password-pasted-here>@cluster0-ox7di.mongodb.net/test?retryWrites=true&w=majority'``` 

It is not a string because it is imported in the express server like so ```	'process.env.DB_CONNECTION',``` where it is set as a string in the params of the ```mongoose.connect()``` method.

3. Make sure that the ```.env``` file is ignored in your ```.gitignore``` files - if you do not have a ```.gitignore``` then create one ```touch .gitignore``` and add all of these dot files to ignore when you push to your repo - you may want to add more depending on your repo but for this project these files have been ignored.

```
 See https://help.github.com/articles/ignoring-files/ for more about ignoring files.

# dependencies
/node_modules
/.pnp
.pnp.js

# testing
/coverage

# production
/build

# misc
.DS_Store
.env.local
.env.development.local
.env.test.local
.env.production.local

npm-debug.log*
yarn-debug.log*
yarn-error.log*
```

4. Now git commit to your git repository and check that the files have been ignored by going into your repo on GitHub

5. Now set up mongoDB and the connection to the mongoCloudDB go back to the ```.env``` file add ```mongodb+srv://:@cluster0.xfd8y.mongodb.net/test`, again rememember this is NOT a string, add user name and password that you have saved for your db - structure


6. In the Express server set up the template for the mongoDb connection, the ```mongoose.Promise()``` must be just above the ```app.listen()``` method

```
mongoose.connect(
		'process.env.DB_CONNECTION',,
	{
		useNewUrlParser: true,
		useCreateIndex: true,
		useUnifiedTopology: true
	},
	(error) => {
		if (!error) {
			console.log('mongo-db connection working');
		} else {
			console.log('check mongo-db connection');
		}
	}
);
mongoose.Promise = global.Promise;

app.listen(5000, () => console.log(`app server connected on port ${port}`));
```

7. Check you are are connected to the cloud - make sure the connection has not expired, click connect again and to link local to cloud connection, if you are using a VPN ensure that you update the IP saved if the IP address has changed

Manually test that the db is connected with the real username and password

```
       mongoose.connect(
   'mongodb+srv://user-name:<auto-generated-password-pasted-here>@cluster0-ox7di.mongodb.net/test?retryWrites=true&w=majority',
   {
   	useNewUrlParser: true,
   	useCreateIndex: true,
   	useUnifiedTopology: true
   },
   (error) => {
   	if (!error) {
   		console.log('mongo-db connection working');
   	} else {
   		console.log('check mongo-db connection');
   	}
   }
);
mongoose.Promise = global.Promise;
```

Then you can move the URI back into the .env file and use the ```'process.env.DB_CONNECTION'``` config